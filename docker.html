<!DOCTYPE html>



<html>
<head>


</head>
<body>

<h1>docker 명령어</h1>


<hr>
<ol>
<li>
docker.ps: docker의 현재 컨테이너 리스트 출력

</li>
<li>

    docker images:도커의 이미지들 출력
</li>
<li>
    docker run -d
</li>

<li>
    docker stop <아이디혹은 이름>
</li>

<li>
    docker의 등록
    ex)
    docker run -d \
  --name web2 \
  -p 8080:80 \
  -v "$PWD":/usr/share/nginx/html:ro \
  nginx:alpine
옵션별 의미
-d

detached 모드(백그라운드 실행)

실행 후 터미널에 로그가 안 찍히고, 컨테이너는 뒤에서 계속 돌음

--name web2

컨테이너 이름을 web2로 지정

안 쓰면 랜덤 이름이 붙음 (예: loving_bell)

-p 8080:80

호스트 포트 8080 → 컨테이너 내부 포트 80 연결

브라우저에서 http://localhost:8080 접속 시, 컨테이너 안의 Nginx(80포트)로 요청 전달됨

-v "$PWD":/usr/share/nginx/html:ro

현재 디렉토리($PWD)를 컨테이너 /usr/share/nginx/html 경로에 마운트

:ro → read-only(읽기 전용)

즉, 로컬 index.html을 그대로 웹서버에 노출

nginx:alpine

사용할 이미지

Nginx를 alpine(작은 리눅스 배포판 기반) 버전으로 실행
</li>
</ol>


<h1>
 docker yaml 기본 템플릿   
</h1>
<pre>
<code>

version: '3.8'
services:
  web:
    image: nginx:alpine
    ports: ["8080:80"]
    volumes:
      - ./site:/usr/share/nginx/html:ro
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on: [php]

  php:
    image: php:8.2-fpm
    volumes:
      - ./site:/usr/share/nginx/html
    depends_on: [db]

  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: 1234
      MYSQL_DATABASE: mydb
      MYSQL_USER: user
      MYSQL_PASSWORD: 1234
    volumes:
      - dbdata:/var/lib/mysql

volumes:
  dbdata:





</code>




</pre>
<hr>
<h1>docker 파일구조</h1>
<pre>
    <code>
nginx-php-mysql/
├─ docker-compose.yml
├─ nginx.conf
├─ .env
├─ php/
│  └─ Dockerfile
└─ site/
   └─ index.php

   

</code>

</body>





</html>