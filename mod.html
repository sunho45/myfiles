<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ëª¨ë“ˆëŸ¬ ê±°ë“­ì œê³± (ë¶„í•  ì •ë³µ / ì´ì§„ ì§€ìˆ˜ë²•) ì •ë¦¬</title>
  <style>
    :root{
      --bg:#0f1221; --panel:#171a2b; --text:#e6e8f2; --muted:#9aa3b2; --accent:#7aa2ff; --ok:#60d394; --warn:#ffd166; --danger:#ff6b6b;
      --code:#0b0f1a; --border:#2a2f45;
    }
    *{box-sizing:border-box}
    body{margin:0; background:var(--bg); color:var(--text); font:16px/1.6 system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Pretendard,Arial,sans-serif}
    a{color:var(--accent); text-decoration:none}
    header.status{
      position:sticky; top:0; z-index:10; backdrop-filter:saturate(1.2) blur(6px);
      border-bottom:1px solid var(--border); background:color-mix(in srgb, var(--panel) 92%, transparent);
    }
    .status-inner{max-width:1100px; margin:auto; padding:12px 16px; display:grid; grid-template-columns:1.2fr 2fr 1fr; gap:12px; align-items:center}
    .card{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:12px 14px; box-shadow:0 4px 14px rgba(0,0,0,.25)}
    .kvs{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px; font-size:14px; color:var(--muted)}
    .kvs b{color:var(--text)}
    .tag{display:inline-block; padding:4px 10px; border:1px solid var(--border); background:#101427; border-radius:999px; font-size:12px; color:var(--muted); margin-right:6px}
    main{max-width:1100px; margin:20px auto; padding:0 16px 64px}
    h1,h2,h3{line-height:1.25; margin:28px 0 12px}
    h1{font-size:30px}
    h2{font-size:22px; margin-top:32px}
    section{margin-top:16px}
    .grid{display:grid; gap:16px}
    .two{grid-template-columns:repeat(2,minmax(0,1fr))}
    pre{background:var(--code); color:#d8e0ff; padding:14px; border-radius:12px; overflow:auto; border:1px solid var(--border)}
    code{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:13.5px}
    .note{border-left:3px solid var(--accent); padding:10px 12px; background:#101427; color:var(--muted); border-radius:8px}
    ul{margin:8px 0 8px 18px}
    .ok{color:var(--ok)} .warn{color:var(--warn)} .danger{color:var(--danger)}
    .pill{display:inline-block; padding:4px 8px; border-radius:8px; background:#101427; border:1px solid var(--border); font-size:12px; color:var(--muted)}
    .ex{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- ìƒë‹¨ ê³ ì • ìƒíƒœì°½ (ì‚¬ìš©ì ì„ í˜¸ í…œí”Œë¦¿) -->
  <header class="status">
    <div class="status-inner">
      <div class="card">
        <div style="font-weight:700; font-size:15px; margin-bottom:6px">ì£¼ì œ</div>
        <div class="ex">
          <span class="tag">ëª¨ë“ˆëŸ¬ ê±°ë“­ì œê³±</span>
          <span class="tag">ì´ì§„ ì§€ìˆ˜ë²• (Binary Exponentiation)</span>
          <span class="tag">ë¶„í•  ì •ë³µ</span>
          <span class="tag">ì˜¤ë²„í”Œë¡œ ë°©ì§€</span>
        </div>
      </div>
      <div class="card kvs">
        <div><span class="muted">ë¬¸ì œ</span><br/><b>BOJ 1629 (ê³±ì…ˆ): A^B mod C</b></div>
        <div><span class="muted">í•µì‹¬ ì„±ì§ˆ</span><br/><b>(xÂ·y) mod C = ((x mod C)Â·(y mod C)) mod C</b></div>
      </div>
      <div class="card" style="text-align:right">
        <div><span class="pill">ì‹œê°„ë³µì¡ë„: O(log B)</span></div>
        <div style="margin-top:6px"><span class="pill">ì—…ë°ì´íŠ¸: 2025-11-10 (KST)</span></div>
      </div>
    </div>
  </header>

  <main>
    <h1>ëª¨ë“ˆëŸ¬ ê±°ë“­ì œê³± ì •ë¦¬ (A<sup>B</sup> mod C)</h1>
    <p>í° ì§€ìˆ˜ <b>B</b>ì— ëŒ€í•´ <b>A<sup>B</sup> mod C</b>ë¥¼ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ê³„ì‚°í•˜ëŠ” ë²•ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. í•µì‹¬ì€ <b>ì´ì§„ ì§€ìˆ˜ë²•</b>ê³¼ <b>ê³±ì…ˆ ë•Œë§ˆë‹¤ ëª¨ë“ˆëŸ¬ë¥¼ ì·¨í•´ ì˜¤ë²„í”Œë¡œë¥¼ ë§‰ëŠ” ê²ƒ</b>ì…ë‹ˆë‹¤.</p>

    <h2 id="why">1) ì™œ ë¶€ë¶„ë§ˆë‹¤ ë‚˜ëˆ ë„(ëª¨ë“ˆëŸ¬) ë˜ë‚˜?</h2>
    <div class="note">
      ëª¨ë“ˆëŸ¬ì˜ ë¶„ë°° ë²•ì¹™: <b>(xÂ·y) mod C = ((x mod C)Â·(y mod C)) mod C</b><br/>
      ë”í•˜ê¸°/ë¹¼ê¸°ì—ë„ ë™ì¼í•˜ê²Œ ë¶„ë°°ë¨: (xÂ±y) mod C = ((x mod C) Â± (y mod C)) mod C
    </div>
    <p>
      ë”°ë¼ì„œ ì¤‘ê°„ ê³±ì…ˆ ê²°ê³¼ê°€ ë§¤ìš° ì»¤ì§€ê¸° ì „ì— ê³„ì† <code>mod C</code>ë¥¼ ì·¨í•´ë„ ìµœì¢… ê²°ê³¼ì™€ ë™ì¼í•©ë‹ˆë‹¤.
      ì˜¤íˆë ¤ <b>í•„ìˆ˜</b>ë¡œ ê·¸ë ‡ê²Œ í•´ì•¼ ì •ìˆ˜ ì˜¤ë²„í”Œë¡œë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <h2 id="binary">2) ë¶„í•  ì •ë³µ / ì´ì§„ ì§€ìˆ˜ë²• ì•„ì´ë””ì–´</h2>
    <ul>
      <li>Bê°€ ì§ìˆ˜ë©´: A<sup>B</sup> = (A<sup>B/2</sup>)<sup>2</sup></li>
      <li>Bê°€ í™€ìˆ˜ë©´: A<sup>B</sup> = (A<sup>âŒŠB/2âŒ‹</sup>)<sup>2</sup>Â·A</li>
    </ul>
    <p>ì¦‰, í•œ ë²ˆì˜ ì¬ê·€/ë°˜ë³µë§ˆë‹¤ ì§€ìˆ˜ë¥¼ ì ˆë°˜ìœ¼ë¡œ ì¤„ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ <b>O(log B)</b>ì— ê³„ì‚°ì´ ëë‚©ë‹ˆë‹¤.</p>

    <section class="grid two">
      <div>
        <h3>ì¬ê·€ ë²„ì „ (ê°œë…ì )</h3>
        <pre><code>// ì˜¤ë²„í”Œë¡œ ë°©ì§€ë¥¼ ìœ„í•´ ê³±í•  ë•Œë§ˆë‹¤ 128ë¹„íŠ¸ë¥¼ ì‚¬ìš©í•´ mod
long long modpow(long long a, long long b, long long c){
    if(b == 0) return 1 % c;
    if(b == 1) return a % c;
    long long half = modpow(a, b/2, c);
    __int128 mul = (__int128)half * half % c; // (half^2) % c
    long long res = (long long)mul;
    if(b & 1){
        res = (long long)(((__int128)res * (a % c)) % c);
    }
    return res;
}
</code></pre>
      </div>
      <div>
        <h3>ë°˜ë³µ(ì´ì§„) ë²„ì „ (ì‹¤ì „ìš©)</h3>
        <pre><code>long long modpow_iter(long long a, long long b, long long c){
    long long base = a % c;   // t
    long long ans  = 1 % c;   // solution
    while(b > 0){
        if(b & 1){
            ans = (long long)(((__int128)ans * base) % c);
        }
        base = (long long)(((__int128)base * base) % c); // ì œê³±
        b >>= 1; // ì§€ìˆ˜ë¥¼ 2ë¡œ ë‚˜ëˆ”
    }
    return ans;
}
</code></pre>
      </div>
    </section>

    <h2 id="bits">3) ë¹„íŠ¸ ì—°ì‚° í•´ì„¤</h2>
    <ul>
      <li><code>b & 1</code>: bì˜ ìµœí•˜ìœ„ ë¹„íŠ¸ê°€ 1ì¸ì§€ í™•ì¸ â†’ í™€ìˆ˜ ì—¬ë¶€ íŒë³„</li>
      <li><code>b >>= 1</code>: bë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 1ë¹„íŠ¸ ì‰¬í”„íŠ¸ â†’ ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ <b>b = b / 2</b>ì™€ ë™ì¼</li>
    </ul>

    <h2 id="i128">4) <code>__int128</code>ì€ ë¬´ì—‡ì´ê³  ì™œ í•„ìš”í•œê°€?</h2>
    <p>
      C++ì˜ í™•ì¥ ì •ìˆ˜í˜•(ë¹„í‘œì¤€ì´ì§€ë§Œ GCC/Clangì—ì„œ ì œê³µ). 128ë¹„íŠ¸ ì •ìˆ˜ë¡œ, <code>long long</code>(64ë¹„íŠ¸)ì„ ë„˜ì–´ì„œëŠ” ê³±ì…ˆ ì¤‘ê°„ê°’ì„ ì•ˆì „í•˜ê²Œ ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      ì˜ˆë¥¼ ë“¤ì–´ <code>(long long)Ã—(long long)</code>ì€ ê³± ìì²´ê°€ 64ë¹„íŠ¸ë¥¼ ë„˜ì¹  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê³±í•˜ëŠ” ìˆœê°„ <code>__int128</code>ë¡œ ìºìŠ¤íŒ…í•˜ì—¬ <b>ê³§ë°”ë¡œ mod</b>ë¥¼ ì·¨í•´ 64ë¹„íŠ¸ë¡œ ë‚´ë ¤ì˜¤ëŠ” íŒ¨í„´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    </p>

    <h2 id="correct">5) ì •í™•ì„± ìŠ¤ì¼€ì¹˜</h2>
    <ul>
      <li>ê¸°ì €: B=0ì´ë©´ ê²°ê³¼ëŠ” 1, B=1ì´ë©´ A mod C.</li>
      <li>ìœ ë„: Bê°€ ì§ìˆ˜ì¼ ë•Œ <code>pow(A,B) = pow(A,B/2)^2</code>, í™€ìˆ˜ì¼ ë•Œ <code>pow(A,B) = pow(A,âŒŠB/2âŒ‹)^2Â·A</code>.</li>
      <li>ê° ê³±ì…ˆì€ ëª¨ë“ˆëŸ¬ ë¶„ë°°ë²•ì¹™ì— ì˜í•´ ë‹¨ê³„ë§ˆë‹¤ <code>mod C</code>ë¥¼ ì·¨í•´ë„ ìµœì¢… ê²°ê³¼ ë³´ì¡´.</li>
      <li>ë§¤ ë‹¨ê³„ì— Bê°€ ì ˆë°˜ìœ¼ë¡œ ê°ì†Œ â†’ ìœ í•œ ë²ˆ(â‰ˆlogâ‚‚B) í›„ ì¢…ë£Œ.</li>
    </ul>

    <h2 id="pitfalls">6) í”í•œ ì‹¤ìˆ˜ & ì£¼ì˜ì </h2>
    <ul>
      <li class="danger">âŒ <b>ì¤‘ê°„ ê³±ì—ì„œ modë¥¼ ì•ˆ í•¨</b> â†’ ì˜¤ë²„í”Œë¡œ.</li>
      <li class="danger">âŒ ì¬ê·€ì—ì„œ <code>po*po*(a%c)</code>ì²˜ëŸ¼ <b>ëª¨ë‘ ê³±í•œ ë’¤ ë§ˆì§€ë§‰ì—ë§Œ %</b> â†’ ì—­ì‹œ ì˜¤ë²„í”Œë¡œ.</li>
      <li class="warn">âš ï¸ <code>long long</code>ë§Œìœ¼ë¡œ ê³±ì…ˆ â†’ ìºìŠ¤íŒ… ì—†ì´ ê³±í•˜ë©´ ì´ë¯¸ ë„˜ì¹¨.</li>
      <li class="warn">âš ï¸ Cê°€ 1ì¼ ë•Œ ê²°ê³¼ëŠ” í•­ìƒ 0 â†’ <code>1 % c</code> í˜•íƒœë¡œ ì•ˆì „ ì²˜ë¦¬.</li>
    </ul>

    <h2 id="example">7) ì˜ˆì‹œ í…ŒìŠ¤íŠ¸</h2>
    <div class="grid two">
      <div class="card">
        <b>ì…ë ¥</b>
        <pre><code>10 11 12</code></pre>
      </div>
      <div class="card">
        <b>ì¶œë ¥</b>
        <pre><code>4</code></pre>
      </div>
    </div>

    <h2 id="full">8) ì „ì²´ ì˜ˆì‹œ ì½”ë“œ (ë°˜ë³µ ë²„ì „ ê¶Œì¥)</h2>
    <pre><code>#include &lt;bits/stdc++.h&gt;
using namespace std;

long long modpow_iter(long long a, long long b, long long c){
    long long base = a % c;
    long long ans  = 1 % c;
    while(b > 0){
        if(b & 1){
            ans = (long long)(((__int128)ans * base) % c);
        }
        base = (long long)(((__int128)base * base) % c);
        b >>= 1;
    }
    return ans;
}

int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    long long A,B,C; 
    if(!(cin >> A >> B >> C)) return 0;
    cout << modpow_iter(A,B,C) << "\n";
    return 0;
}
</code></pre>

    <h2 id="qa">9) Q&A ì§§ì€ ë³µìŠµ</h2>
    <ul>
      <li><b>Q.</b> "ë‹¤ ê³±í•œ ê°’ì„ ë§ˆì§€ë§‰ì— í•œ ë²ˆë§Œ ë‚˜ëˆ ë„ ë˜ì§€ ì•Šë‚˜?"<br/>
          <b>A.</b> ì´ë¡ ì ìœ¼ë¡œëŠ” ë™ì¼ ê²°ê³¼ì§€ë§Œ, <u>ì¤‘ê°„ ê°’ì´ 64ë¹„íŠ¸ë¥¼ ë„˜ì³ì„œ</u> ì‹¤ì œ ì½”ë“œëŠ” ë¬´ë„ˆì§‘ë‹ˆë‹¤. ê·¸ë˜ì„œ ê³±í•  ë•Œë§ˆë‹¤ modë¥¼ ì·¨í•©ë‹ˆë‹¤.</li>
      <li><b>Q.</b> <code>b & 1</code>ì€? â†’ bê°€ í™€ìˆ˜ì¸ì§€ ê²€ì‚¬.</li>
      <li><b>Q.</b> <code>b >>= 1</code>ì€? â†’ b = b / 2 (ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ).</li>
      <li><b>Q.</b> <code>__int128</code>ì€? â†’ 128ë¹„íŠ¸ ì •ìˆ˜(í™•ì¥í˜•). ê³±ì…ˆ ì¤‘ê°„ê°’ì„ ì•ˆì „íˆ ë‹´ì€ ë’¤ modë¡œ ì¤„ì´ëŠ” ìš©ë„.</li>
    </ul>

    <h2 id="complexity">10) ë³µì¡ë„</h2>
    <ul>
      <li>ì‹œê°„: O(log B)</li>
      <li>ê³µê°„: O(1) (ë°˜ë³µ ë²„ì „) / O(log B) (ì¬ê·€ í˜¸ì¶œ ìŠ¤íƒ)</li>
    </ul>

    <p style="margin-top:32px;color:var(--muted)">ë. ë¹ ë¥¸ ê±°ë“­ì œê³± íŒ¨í„´ë§Œ ëª¸ì— ìµíˆë©´ ëŒ€ë¶€ë¶„ì˜ ëª¨ë“ˆëŸ¬ ì—°ì‚° ë¬¸ì œê°€ í’€ë¦½ë‹ˆë‹¤ ğŸ‘</p>
  </main>
</body>
</html>
